<!DOCTYPE html>
<html>
  <head>
    <title> 2 </title>
  </head>
  <body>

     <h2>This is a notebook</h2>

     <form id="add",name="form1">
        <input type="text" id="addname"/>
        <input type="button" value="Add" onclick="addItem()"/>
     </form>
	 
     <form>
	    <input type="text" id="searchname"/>
	    <input type="button" value="Search" onclick="search()"/>
	 </form>
	  
	 <ul id="list"></ul>
	 <ul id="f_list"></ul>
	 <p id="test">123</p>
    <script>

	    var notes=[];
		
		
		function search(){
		   document.getElementById("list").innerHTML=document.getElementById("f_list").innerHTML;		//clean all the data in list   
		   var text=document.getElementById("searchname").value;
		   var index;
		   
		   if(text==""){  //show all the data in the array
		      for(index=0;index<notes.length;index++){
			      createNote(notes[index]);
			  }
		   }
		   else{   // show the data only match with the string for search
		      for(index=0;index<notes.length;index++){
			      var reg=new RegExp(text);
	              if(reg.test(notes[index]))createNote(notes[index]);		    
			  }	   
		   }
		}
		
        function addItem(){
		  var addName=document.getElementById("addname").value;
		  if(addName=="")return;
		  notes.push(addName);
          createNote(addName);
        }
		
		function createNote(note){
		  
		  var newList=document.createElement("li");
          var newContent=document.createTextNode(note);
          newList.appendChild(newContent);
  
          var newButton=document.createElement("input");
          newButton.type="button";
          newButton.value="Remove";
          newButton.onclick=function(){ 
            document.getElementById("list").removeChild(newList);
          };
          newList.appendChild(newButton);
		  document.getElementById("list").appendChild(newList);
		}

    </script>

    </body>
</html>
